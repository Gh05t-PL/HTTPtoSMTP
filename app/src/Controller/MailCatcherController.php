<?php

namespace App\Controller;

use App\Model\MailSendRequest;
use App\Model\Messages;
use App\Utils\ValidationService;
use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\Mailer\Transport;
use Symfony\Component\Mime\Email;
use Symfony\Component\Mime\MimeTypes;
use Symfony\Component\Routing\Annotation\Route;
use Symfony\Component\Serializer\SerializerInterface;
use Symfony\Component\String\ByteString;
use Symfony\Component\Validator\Constraints as Assert;

class MailCatcherController extends AbstractController implements IJsonRequestController
{
	/**
	 * @Route("/v1/mail/catcher", methods={"POST"})
	 * @param ValidationService $requestValidator
	 * @param Request $request
	 * @param SerializerInterface $serializer
	 *
	 * @return \Symfony\Component\HttpFoundation\JsonResponse
	 * @throws \Symfony\Component\Mailer\Exception\TransportExceptionInterface
	 */
	public function mailCatcher(
		ValidationService $requestValidator,
		Request $request,
		SerializerInterface $serializer
	)
	{
		$requestData = json_decode($request->getContent(), true);

		$requestValidator->setConstraint($this->getMailCatcherRequestConstraint());

		$violations = $requestValidator->validate($requestData);
		if ( count($violations) > 0 )
			return $this->json([
				'errors' => $violations,
			]);

		/** @var $requestObject MailSendRequest */
		$requestObject = $serializer->denormalize($requestData, MailSendRequest::class);

		/** @var Transport\Smtp\SmtpTransport $transport */
		$transport = Transport::fromDsn($requestObject->getDsn());

		foreach ( $requestObject->getMessages() as $message ) {
			$email = (new Email())
				->from($message->getFrom())
				->bcc(...$message->getTo())
				->subject($message->getTitle());

			try {
				if ( !empty($message->getHeaders()) ) {
					$email->setHeaders($email->getHeaders()->add(...$message->getHeaders()));
				}
			} catch ( \LogicException $e ) {
				return $this->json([
					'errors' => [$e->getMessage(), $e->getCode()],
				]);
			}

			switch ($message->getType()) {
				case Messages::TYPE_TEXT:
					$email->text($message->getBody());
					break;
				case Messages::TYPE_HTML:
					$email->html($message->getBody());
					break;
			}

			$email->attach(base64_decode('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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgIfvo2TXxuuSMAAAAAElFTkSuQmCC'),
				'file.png','image/png');
            dump($transport->send(
                $email
            ));
		}

		return $this->json([
			'message' => '',
		]);
	}

	private function getMailCatcherRequestConstraint()
	{
		return new Assert\Collection([
			'messages' => [
				new Assert\NotBlank(),
				new Assert\Count(['min' => 1]),
				new Assert\All([
					new Assert\Collection([
						'from' => [
							new Assert\NotBlank(),
							new Assert\Type('string'),
							new Assert\Email()
						],
						'to' => [
							new Assert\NotBlank(),
							new Assert\Count(['min' => 1]),
							new Assert\All([
								new Assert\Type('string'),
								new Assert\Email()
							])
						],
						'title' => [
							new Assert\NotBlank(),
							new Assert\Type('string')
						],
						'body' => [
							new Assert\NotBlank(),
							new Assert\Type('string')
						],
						'headers' => [
							new Assert\Type('array')
						],
						'type' => [
							new Assert\NotBlank(),
							new Assert\Type('string'),
							new Assert\Choice([
								Messages::TYPE_HTML,
								Messages::TYPE_TEXT,
								Messages::TYPE_TWIG
							])
						],
					])
				])
			],
			'dsn' => [
				new Assert\NotBlank(),
				new Assert\Type('string'),
				new Assert\Url([
					'protocols' => ['smtp'],
					'message' => 'This value is not a valid DSN for smtp.'
				])
			],
		]);
	}

}
